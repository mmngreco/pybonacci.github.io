<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="author" content="Pybonacci">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>Pandas (I) | Pybonacci</title>

	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="alternate" type="application/atom+xml" title="Pybonacci blog atom feed" href="/feeds/all.atom.xml" />
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="/theme/css/fontello.css"/>
        <style>.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #60a0b0; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #007020; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #007020 } /* Comment.Preproc */
.highlight .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.highlight .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #007020 } /* Keyword.Pseudo */
.highlight .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #902000 } /* Keyword.Type */
.highlight .m { color: #40a070 } /* Literal.Number */
.highlight .s { color: #4070a0 } /* Literal.String */
.highlight .na { color: #4070a0 } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.highlight .no { color: #60add5 } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #007020 } /* Name.Exception */
.highlight .nf { color: #06287e } /* Name.Function */
.highlight .nl { color: #002070; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #062873; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #bb60d5 } /* Name.Variable */
.highlight .ow { color: #007020; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #40a070 } /* Literal.Number.Float */
.highlight .mh { color: #40a070 } /* Literal.Number.Hex */
.highlight .mi { color: #40a070 } /* Literal.Number.Integer */
.highlight .mo { color: #40a070 } /* Literal.Number.Oct */
.highlight .sb { color: #4070a0 } /* Literal.String.Backtick */
.highlight .sc { color: #4070a0 } /* Literal.String.Char */
.highlight .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4070a0 } /* Literal.String.Double */
.highlight .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #4070a0 } /* Literal.String.Heredoc */
.highlight .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.highlight .sx { color: #c65d09 } /* Literal.String.Other */
.highlight .sr { color: #235388 } /* Literal.String.Regex */
.highlight .s1 { color: #4070a0 } /* Literal.String.Single */
.highlight .ss { color: #517918 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #bb60d5 } /* Name.Variable.Class */
.highlight .vg { color: #bb60d5 } /* Name.Variable.Global */
.highlight .vi { color: #bb60d5 } /* Name.Variable.Instance */
.highlight .il { color: #40a070 } /* Literal.Number.Integer.Long */</style>
        <style>.description-author {
  font-size: 0.8em;
  color: #333;
}
.img-author {
  max-height: 10em;
  max-width: 10em;
}
body {
  margin: 0;
  padding: 0;
  font: 15px 'Source Sans Pro', sans-serif;
  line-height: 1.6em;
  color: #222222;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
a {
  color: #007ee5;
  text-decoration: none;
}
a:hover {
  color: #007ee5;
  text-decoration: none;
}
header.main-header {
  background: none repeat scroll 0% 0% #205F29;
  margin-bottom: 0px;
}
header.main-header a {
  color: #fff;
}
header.main-header .container {
  max-width: 1000px;
}
header.main-header .container nav a:hover {
  background-color: #5C881C;
}
header.navbar-default {
  border-bottom: none;
  background-color: #EFEFEF;
}
article {
  margin: 0;
}
article header.about {
  margin-bottom: 0px;
  padding-bottom: 0px;
}
article header {
  padding-bottom: 20px;
}
article header h1 {
  margin-bottom: 2px;
  font-weight: 700;
  color: #000;
}
article header time {
  color: #9E9E9E;
  float: right;
}
article header time.left {
  color: #9E9E9E;
  float: left;
}
article div.social-links ul {
  padding: 0px;
}
article div.social-links li {
  display: inline;
  font-size: 20px;
}
article div.social-links li a {
  color: #000;
  padding: 10px;
}
article div.social-links li a:hover {
  color: #666;
  text-decoration: none;
}
article p {
  font-size: 2em;
  margin-bottom: 20px;
  line-height: 1.6em;
  text-align: justify;
}
article p.note {
  background: #f5f5f5;
  border: 1px solid #ddd;
  padding: 0.533em 0.733em;
}
article p.update {
  background-color: #FEEFB3;
  border: 1px solid #e6e68a;
  padding: 0.533em 0.733em;
}
article p.alert {
  background-color: #ffe2e2;
  border: 1px solid #ffb2b2;
  padding: 0.533em 0.733em;
}
article ul,
article ol {
  margin-top: 0px;
  margin-bottom: 25px;
}
article li {
  font-size: 16px;
  line-height: 1.6em;
}
article a:hover {
  text-decoration: underline;
}
article blockquote {
  border-left: 2px solid #c7c7cc;
  color: #666;
  margin: 30px 0;
  padding: 0 0 0 25px;
}
article img {
  max-width: 100%;
}
article code {
  color: #333;
  background-color: #EEE;
  border-radius: 0;
  font-size: 1em;
}
article .meta {
  margin-top: 35px;
}
article .meta a:hover {
  text-decoration: none;
}
article .meta div {
  display: block;
}
article .meta address:before,
article .meta time:before,
article .meta a.tag:before {
  font-family: 'fontello';
  margin-right: 6px;
}
article .meta address.author {
  float: left;
}
article .meta address:before {
  content: '\e819';
}
article .meta time:before {
  content: '\f133';
}
article .meta div.tags {
  clear: both;
}
article .meta a.tag {
  margin: 0 10px 10px 0;
  padding: 1px 12px;
  display: inline-block;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.05);
}
article .meta a.tag:before {
  content: '\e821';
}
article .meta a.tag:hover {
  background: rgba(0, 0, 0, 0.15);
}
article .meta a.read_more,
article .meta a.comments_btn {
  font-size: 14px;
  font-weight: 800;
  padding: 10px 20px;
  color: #007aa3;
  background: #FFF;
  border: 1px solid #007aa3;
}
article .meta a.read_more:hover,
article .meta a.comments_btn:hover {
  color: #FFF;
  background: #007aa3;
}
article .meta:after {
  content: "";
  display: table;
  clear: both;
}
.index {
  max-width: 700px;
}
.index article header h2 {
  font-size: 36px;
  margin-bottom: 2px;
  font-weight: 700;
}
.index article header h2 a {
  color: #333;
}
.index article header h2 a:hover {
  color: #007ee5;
  text-decoration: none;
}
.index .separator {
  padding: 40px 0 0 0;
  margin: 0 0 40px 0;
  height: 10px;
  border-bottom: solid 1px #CCC;
}
.index .pagination {
  display: block;
  margin-bottom: 100px;
}
.index .pagination .left {
  text-align: right;
}
.index .pagination .right {
  text-align: left;
}
.index .pagination a {
  display: inline-block;
  border: 2px solid #5C881C;
  margin: 0 5px;
  padding: 8px 20px;
  font-weight: bold;
  color: #5C881C;
}
.index .pagination a:hover {
  color: #FFF;
  background: #5C881C;
}
.post {
  max-width: 80%;
}
.post h1 {
  font-size: 42px;
}
.post h2:before {
  content: "# ";
  font-weight: bold;
  color: #DDD;
}
.post h3:before {
  content: "## ";
  font-weight: bold;
  color: #DDD;
}
.post h4:before {
  content: "### ";
  font-weight: bold;
  color: #DDD;
}
.post p {
  font-size: 2em;
}
.list {
  max-width: 700px;
}
.list ul.double-list {
  margin: 0 auto 60px;
  padding: 0;
  list-style-type: none;
}
.list ul.double-list li {
  padding: 5px 0;
}
.list ul.double-list li h2 {
  font-size: 2em;
  display: inline;
  font-weight: normal;
}
.list ul.double-list li span {
  font-family: sans-serif;
  text-transform: uppercase;
  text-align: right;
  float: right;
  padding-top: 3px;
  font-size: 12px;
  color: #999;
}
.full-width-content {
  padding-top: 10px;
  padding-left: 0px;
  padding-right: 0px;
  margin-left: -20px;
  margin-right: -20px;
}
.col-xs-1,
.col-sm-1,
.col-md-1,
.col-lg-1,
.col-xs-2,
.col-sm-2,
.col-md-2,
.col-lg-2,
.col-xs-3,
.col-sm-3,
.col-md-3,
.col-lg-3,
.col-xs-4,
.col-sm-4,
.col-md-4,
.col-lg-4,
.col-xs-5,
.col-sm-5,
.col-md-5,
.col-lg-5,
.col-xs-6,
.col-sm-6,
.col-md-6,
.col-lg-6,
.col-xs-7,
.col-sm-7,
.col-md-7,
.col-lg-7,
.col-xs-8,
.col-sm-8,
.col-md-8,
.col-lg-8,
.col-xs-9,
.col-sm-9,
.col-md-9,
.col-lg-9,
.col-xs-10,
.col-sm-10,
.col-md-10,
.col-lg-10,
.col-xs-11,
.col-sm-11,
.col-md-11,
.col-lg-11,
.col-xs-12,
.col-sm-12,
.col-md-12,
.col-lg-12 {
  padding-right: 0px;
  padding-left: 0px;
}
.disclaimer {
  text-align: center;
  background-color: #EFEFEF;
  border-bottom: none;
  margin-top: 6em;
}</style>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?..." type="text/javascript"></script>
        <script type="text/javascript">
        init_mathjax = function() {
            if (window.MathJax) {
                // MathJax loaded
                MathJax.Hub.Config({
                    tex2jax: {
                        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
                    },
                    displayAlign: 'left', // Change this to 'center' to center equations.
                    "HTML-CSS": {
                        styles: {'.MathJax_Display': {"margin": 0}}
                    }
                });
                MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
            }
        }
        init_mathjax();
        </script>

    </head>

    <body>
        <header class="navbar navbar-default bs-docs-nav">
            <div class="container-fluid">
                <div class="navbar-header">
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#theNavbar">
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span> 
		  </button>
                  <a class="navbar-brand" href="/" title="Home" class="title">Pybonacci</a><!-- — Python y Ciencia-->
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" id="theNavbar">
		    <ul class="nav navbar-nav navbar-right">
                            <li><a href="/pages/acerca-de-pybonacci.html" title="About">Acerca de</a></li>
                            <li><a href="/archives.html" title="Archive">Archivos</a></li>
                            <li><a class="nodec icon-rss" href="/feeds/all.atom.xml" title="pybonacci.github.io RSS feed" rel="me"></a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div id="wrap">
<div class="container post">
    <article>
        <header>
            <h1>Pandas (I)</h1>
            <div class="meta">
                <time datetime="article.date.isoformat()" pubdate>vie 30 mayo 2014</time>
                <address class="vcard author">Por
                    <a class="url fn" href="http://pybonacci.github.io/author/kiko-correoso.html">Kiko Correoso</a>
                </address>
            </div>
        </header>

        <div class="article_content">
            <p>Antes de nada, el contexto, para esta serie de entradas se va a usar lo siguiente:</p>
<pre>Versión de Python:      3.3.1 (default, Apr 10 2013, 19:05:32) 
[GCC 4.6.3]
Versión de Pandas:      0.13.1
Versión de Numpy:       1.8.1
Versión de Matplotlib:  1.3.1
</pre>

<p>Y sin más preámbulos...</p>
<p><strong>¿Qué es Pandas?</strong></p>
<p>Pandas es una librería que proporciona estructuras de datos flexibles y permite trabajar con la información de forma eficiente (gran parte de Pandas está implementado usando C/Cython para obtener un buen rendimiento).</p>
<p>Funciona muy bien cuando nos toca trabajar con:</p>
<ul>
<li>Datos heterogéneos que pueden distribuirse de forma tabular.</li>
<li>Series temporales</li>
<li>Matrices</li>
<li>...</li>
</ul>
<p>La página oficial se encuentra en el siguiente <a href="http://pandas.pydata.org">enlace</a>.</p>
<p><strong>Estructuras de datos</strong></p>
<p>Pandas ofrece varias estructuras de datos que nos resultarán de mucha utilidad y que vamos a ir viendo poco a poco. Todas las posibles estructuras de datos que ofrece a día de hoy son:</p>
<ul>
<li>Series (y TimeSeries)</li>
<li>DataFrame</li>
<li>Panel</li>
<li>Panel4D</li>
<li>PanelND</li>
</ul>
<p><strong>Series</strong></p>
<p>En una instancia de la clase <code>Series</code> podremos almacenar arrays o vectores con índice o etiqueta. Si no usamos índice o etiqueta nos lo numerará con un índice de forma interna. La forma básica de crear una Series sería:</p>
<p><code>&gt;&gt;&gt; s = Series(data, index=index)</code></p>
<p>donde <code>data</code> es el vector de datos e <code>index</code> (opcional) es el vector de índices que usará la serie. Si los índices son datos de fechas directamente se creará una instancia de una TimeSeries en lugar de una instacia de Series.</p>
<p>Veamos un ejemplo de como crear este tipo de contenedor de datos. Primero vamos a crear una serie y pandas nos creará índices automáticamente, segundo vamos a crear una serie donde nosotros le vamos a decir los índices que queremos usar y, tercero, vamos a crear una serie temporal usando índices que son fechas.</p>
<pre><code class="language-python"># serie con índices automáticos
serie = pd.Series(np.random.randn(10))
print(u'Serie con índices automáticos n{} n'.format(serie))
print(type(serie))</code></pre>

<p>Cuyo resultado sería:</p>
<p><code>Serie con índices automáticos&lt;br /&gt;
0 -1.731792&lt;br /&gt;
1 0.492089&lt;br /&gt;
2 0.190005&lt;br /&gt;
3 0.498570&lt;br /&gt;
4 -0.129411&lt;br /&gt;
5 0.496611&lt;br /&gt;
6 -0.561550&lt;br /&gt;
7 -0.981822&lt;br /&gt;
8 -0.471803&lt;br /&gt;
9 -0.255938&lt;br /&gt;
dtype: float64</code></p>
<p><class 'pandas.core.series.Series'></p>
<pre><code class="language-python"># serie con índices definidos por mi
serie = pd.Series(np.random.randn(4),
                  index = ['itzi','kikolas','dieguete','nicolasete'])
print(u'Serie con índices definidos n{} n'.format(serie))
print(type(serie))</code></pre>

<p>Cuyo resultado sería el siguiente:</p>
<p><code>Serie con índices definidos&lt;br /&gt;
itzi       0.130432&lt;br /&gt;
kikolas   -2.378303&lt;br /&gt;
dieguete   0.951302&lt;br /&gt;
nicolasete 1.846942&lt;br /&gt;
dtype: float64</code> </p>
<p><class 'pandas.core.series.Series'></p>
<pre><code class="language-python"># serie(serie temporal) con índices que son fechas
serie = pd.Series(np.random.randn(31),
                  index = pd.date_range('2013/01/01', periods = 31))
print(u'Serie temporal con índices de fechas n{} n'.format(serie))
print(type(serie))</code></pre>

<p>Cuyo resultado sería:</p>
<p><code>Serie temporal con índices de fechas&lt;br /&gt;
2013-01-01  0.086782&lt;br /&gt;
2013-01-02 -0.274399&lt;br /&gt;
2013-01-03 -0.919958&lt;br /&gt;
2013-01-04  0.749879&lt;br /&gt;
2013-01-05 -1.739752&lt;br /&gt;
2013-01-06  0.861299&lt;br /&gt;
2013-01-07 -0.797413&lt;br /&gt;
2013-01-08 -0.650584&lt;br /&gt;
2013-01-09  0.880755&lt;br /&gt;
2013-01-10 -0.235406&lt;br /&gt;
2013-01-11  0.134650&lt;br /&gt;
2013-01-12 -0.255786&lt;br /&gt;
2013-01-13 -0.068295&lt;br /&gt;
2013-01-14  0.010727&lt;br /&gt;
2013-01-15  0.259768&lt;br /&gt;
2013-01-16  2.449214&lt;br /&gt;
2013-01-17 -1.452189&lt;br /&gt;
2013-01-18 -0.846709&lt;br /&gt;
2013-01-19 -0.835064&lt;br /&gt;
2013-01-20 -0.073190&lt;br /&gt;
2013-01-21  0.853177&lt;br /&gt;
2013-01-22 -0.239683&lt;br /&gt;
2013-01-23  0.149482&lt;br /&gt;
2013-01-24 -0.233044&lt;br /&gt;
2013-01-25  0.073302&lt;br /&gt;
2013-01-26 -1.769805&lt;br /&gt;
2013-01-27 -1.016134&lt;br /&gt;
2013-01-28  0.378350&lt;br /&gt;
2013-01-29  0.190374&lt;br /&gt;
2013-01-30 -1.566578&lt;br /&gt;
2013-01-31  1.601782&lt;br /&gt;
Freq: D, dtype: float64</code> </p>
<p><class 'pandas.core.series.Series'></p>
<p>En los ejemplos anteriores hemos creado las series a partir de un numpy array pero las podemos crear a partir de muchas otras cosas: listas, diccionarios, numpy arrays,... Veamos ejemplos:</p>
<pre><code class="language-python">serie_lista = pd.Series([i*i for i in range(10)])
print('Serie a partir de una lista n{} n'.format(serie_lista))
dicc = {'cuadrado de {}'.format(i) : i*i for i in range(10)}
serie_dicc = pd.Series(dicc)
print('Serie a partir de un diccionario n{} n'.format(serie_dicc))
serie_serie = pd.Series(serie_dicc.values)
print('Serie a partir de los valores de otra (pandas)serie n{} n'.format(serie_serie))
serie_cte = pd.Series(-999, index = np.arange(10))
print('Serie a partir de un valor constante n{} n'.format(serie_cte))
#...</code></pre>

<p>Y el resultado del código anterior sería:</p>
<p><code>Serie a partir de una lista&lt;br /&gt;
0 0&lt;br /&gt;
1 1&lt;br /&gt;
2 4&lt;br /&gt;
3 9&lt;br /&gt;
4 16&lt;br /&gt;
5 25&lt;br /&gt;
6 36&lt;br /&gt;
7 49&lt;br /&gt;
8 64&lt;br /&gt;
9 81&lt;br /&gt;
dtype: int64</code> </p>
<p>Serie a partir de un diccionario</p>
<p>cuadrado de 0 0</p>
<p>cuadrado de 1 1</p>
<p>cuadrado de 2 4</p>
<p>cuadrado de 3 9</p>
<p>cuadrado de 4 16</p>
<p>cuadrado de 5 25</p>
<p>cuadrado de 6 36</p>
<p>cuadrado de 7 49</p>
<p>cuadrado de 8 64</p>
<p>cuadrado de 9 81</p>
<p>dtype: int64</p>
<p>Serie a partir de los valores de otra (pandas)serie</p>
<p>0 0</p>
<p>1 1</p>
<p>2 4</p>
<p>3 9</p>
<p>4 16</p>
<p>5 25</p>
<p>6 36</p>
<p>7 49</p>
<p>8 64</p>
<p>9 81</p>
<p>dtype: int64</p>
<p>Serie a partir de un valor constante</p>
<p>0 -999</p>
<p>1 -999</p>
<p>2 -999</p>
<p>3 -999</p>
<p>4 -999</p>
<p>5 -999</p>
<p>6 -999</p>
<p>7 -999</p>
<p>8 -999</p>
<p>9 -999</p>
<p>dtype: int64</p>
<p>Una serie (Series o TimeSeries) se puede manejar igual que si tuviéramos un numpy array de una dimensión o igual que si tuviéramos un diccionario. Vemos ejemplos de esto:</p>
<pre><code class="language-python">serie = pd.Series(np.random.randn(10),
                  index = ['a','b','c','d','e','f','g','h','i','j'])
print('Serie que vamos a usar en este ejemplo: n{}nn'.format(serie))&lt;/code&gt;
# Ejemplos de comportamiento como numpy array
print('Se comporta como un numpy array:')
print('================================')
print('&gt;&gt;&gt; serie.max()n{}'.format(serie.max()))
print('&gt;&gt;&gt; serie.sum()n{}'.format(serie.sum()))
print('&gt;&gt;&gt; serie.abs()n{}'.format(serie.abs()))
print('&gt;&gt;&gt; serie[serie &gt; 0]n{}'.format(serie[serie &gt; 0]))
#...
print('n')
# Ejemplos de comportamiento como diccionario
print("Se comporta como un diccionario:")
print("================================")
print("&gt;&gt;&gt; serie['a']n{}".format(serie['a']))
print("&gt;&gt;&gt; 'a' in serien{}".format('a' in serie))
print("&gt;&gt;&gt; 'z' in serien{}".format('z' in serie))</code></pre>

<p>Y el resultado será:</p>
<p><code>Serie que vamos a usar en este ejemplo:&lt;br /&gt;
a -0.663462&lt;br /&gt;
b 0.893211&lt;br /&gt;
c -0.312062&lt;br /&gt;
d -1.196054&lt;br /&gt;
e 1.608529&lt;br /&gt;
f -0.045494&lt;br /&gt;
g -0.192866&lt;br /&gt;
h 1.681370&lt;br /&gt;
i -0.503151&lt;br /&gt;
j -0.078362&lt;br /&gt;
dtype: float64</code></p>
<p>Se comporta como un numpy array:</p>
<p>================================</p>
<blockquote>
<blockquote>
<blockquote>
<p>serie.max()</p>
</blockquote>
</blockquote>
</blockquote>
<p>1.6813703206498873</p>
<blockquote>
<blockquote>
<blockquote>
<p>serie.sum()</p>
</blockquote>
</blockquote>
</blockquote>
<p>1.1916586064903802</p>
<blockquote>
<blockquote>
<blockquote>
<p>serie.abs()</p>
</blockquote>
</blockquote>
</blockquote>
<p>a 0.663462</p>
<p>b 0.893211</p>
<p>c 0.312062</p>
<p>d 1.196054</p>
<p>e 1.608529</p>
<p>f 0.045494</p>
<p>g 0.192866</p>
<p>h 1.681370</p>
<p>i 0.503151</p>
<p>j 0.078362</p>
<p>dtype: float64</p>
<blockquote>
<blockquote>
<blockquote>
<p>serie[serie &gt; 0]</p>
</blockquote>
</blockquote>
</blockquote>
<p>b 0.893211</p>
<p>e 1.608529</p>
<p>h 1.681370</p>
<p>dtype: float64</p>
<p>Se comporta como un diccionario:</p>
<p>================================</p>
<blockquote>
<blockquote>
<blockquote>
<p>serie['a']</p>
</blockquote>
</blockquote>
</blockquote>
<p>-0.663462354872233</p>
<blockquote>
<blockquote>
<blockquote>
<p>'a' in serie</p>
</blockquote>
</blockquote>
</blockquote>
<p>True</p>
<blockquote>
<blockquote>
<blockquote>
<p>'z' in serie</p>
</blockquote>
</blockquote>
</blockquote>
<p>False</p>
<p>Las operaciones están 'vectorizadas' y se hacen elemento a elemento con los elementos alineados en función del índice. Si se hace, por ejemplo, una suma de dos series, si en una de las dos series no existe un elemento, i.e. el índice no existe en la serie, el resultado para ese índice será nan. En resumen, estamos haciendo una unión de los índices y funciona diferente a los numpy arrays. Se puede ver el esquema en el siguiente ejemplo:</p>
<pre><code class="language-python">s1 = serie[1:]
s2 = serie[:-1]
suma = s1 + s2
print(' s1 s2 s1 + s2')
print('------------------ ------------------ ------------------')
for clave in sorted(set(list(s1.keys()) + list(s2.keys()))):
print('{0:1} {1:20} + {0:1} {2:20} = {0:1} {3:20}'.format(clave,
s1.get(clave),
s2.get(clave),
suma.get(clave)))
# En la anterior línea de código uso el método get para no obtener un KeyError
# como sí obtendría si uso, p.e., s1['a']</code></pre>

<p>Cuyo resultado será:</p>
<p><code>s1 s2 s1 + s2&lt;br /&gt;
------------------ ------------------ ------------------&lt;br /&gt;
a  None                + a -0.663462354872233   = a  nan&lt;br /&gt;
b  0.8932105297090326  + b  0.8932105297090326  = b  1.7864210594180652&lt;br /&gt;
c -0.31206215624310224 + c -0.31206215624310224 = c -0.6241243124862045&lt;br /&gt;
d -1.1960537478238258  + d -1.1960537478238258  = d -2.3921074956476516&lt;br /&gt;
e  1.6085289802454341  + e  1.6085289802454341  = e  3.2170579604908682&lt;br /&gt;
f -0.0454943963901047  + f -0.0454943963901047  = f -0.0909887927802094&lt;br /&gt;
g -0.19286571253906507 + g -0.19286571253906507 = g -0.38573142507813013&lt;br /&gt;
h  1.6813703206498873  + h  1.6813703206498873  = h  3.3627406412997747&lt;br /&gt;
i -0.503150771440017   + i -0.503150771440017   = i -1.006301542880034&lt;br /&gt;
j -0.07836208480562608 + j  None                = j  nan</code></p>
<p><strong>DataFrame</strong></p>
<p>Un DataFrame se puede ver como si fuera una tabla con índices para las filas y las columnas. Es algo similar a lo que tenemos en una hoja de cálculo, una tabla de una BBDD SQL o un diccionario de series Pandas. Esta será la estructura de datos más habitual a usar. El DataFrame se puede crear a partir de muchas otras estructuras de datos:</p>
<ul>
<li>A partir de un diccionario de numpy arrays de 1D, diccionarios de listas, diccionarios de diccionarios o diccionarios de Series</li>
<li>A partir de un numpy array de 2D</li>
<li>A partir de un numpy array estructurado (structured ndarray o record ndarray)</li>
<li>A partir de una Series de Pandas</li>
<li>A partir de otro DataFramede Pandas</li>
</ul>
<p>Además de los datos, podemos definir los índices (las etiquetas para las filas) o las columnas (etiquetas para las mismas). Si no se define nada al crear el DataFrame se usarán normas del sentido común para nombrar los índices de filas y columnas.</p>
<p>Veamos un poco de código para ver esto:</p>
<pre><code class="language-python">df_lista = pd.DataFrame({'a': [11,12,13], 'b': [21,22,23]})
print('DataFrame a partir de un diccionario de listas n{} n'.format(df_lista))
df_np1D = pd.DataFrame({'a': np.arange(3)**2, 'b': np.random.randn(3)})
print('DataFrame a partir de un diccionario de 1D ndarrays n{} n'.format(df_np1D))
df_np2D = pd.DataFrame(np.empty((5,3)),
index = ['primero','segundo','tercero','cuarto','quinto'],
columns = ['velocidad', 'temperatura','presion'])
print('DataFrame a partir de un 2D ndarray n{} n'.format(df_np2D))
df_df = pd.DataFrame(df_np2D, index = ['primero','segundo','tercero'])
df_df.index = ['first','second','third']
print('DataFrame a partir de los valores de otro (pandas)DataFrame n{} n'.format(df_df))
#...</code></pre>

<p>Y el resultado de todo lo anterior sería:</p>
<p><code>DataFrame a partir de un diccionario de listas&lt;br /&gt;
a b&lt;br /&gt;
0 11 21&lt;br /&gt;
1 12 22&lt;br /&gt;
2 13 23</code></p>
<p>[3 rows x 2 columns]</p>
<p>DataFrame a partir de un diccionario de 1D ndarrays</p>
<p>a    b</p>
<p>0  0  -0.818739</p>
<p>1  1  -1.473575</p>
<p>2  4  -0.014659</p>
<p>[3 rows x 2 columns]</p>
<p>DataFrame a partir de un 2D ndarray</p>
<p>velocidad          temperatura      presion</p>
<p>primero     1.397157e-306   4.311076e-314   0.000000e+00</p>
<p>segundo  1.670358e-179  -1.238962e-65   -2.110672e-44</p>
<p>tercero    -3.645480e-42     0.000000e+00  -1.561315e-65</p>
<p>cuarto     -2.623582e-42     0.000000e+00   1.519743e-314</p>
<p>quinto    -2.578083e-42     0.000000e+00    2.413050e-312</p>
<p>[5 rows x 3 columns]</p>
<p>DataFrame a partir de los valores de otro (pandas)DataFrame</p>
<p>velocidad        temperatura      presion</p>
<p>first         1.397157e-306  4.311076e-314    0.000000e+00</p>
<p>second  1.670358e-179 -1.238962e-65    -2.110672e-44</p>
<p>third      -3.645480e-42    0.000000e+00   -1.561315e-65</p>
<p>[3 rows x 3 columns]</p>
<p>Podemos construir un DataFrame a partir de <a href="http://pandas.pydata.org/pandas-docs/stable/dsintro.html#alternate-constructors">constructores alternativos</a> como pd.DataFrame.from_dict, pd.DataFrame.from_records o pd.DataFrame.from_items.</p>
<p><strong>Panel, Panel4D, PanelND</strong></p>
<p>En general, los paneles son para tipos de datos de más de dos dimensiones. No los vamos a cubrir ya que se consideran un pelín más complejos, de uso menos habitual y/o se encuentran en estado experimental con lo que pueden cambiar bastante en el corto/medio plazo. Se puede consultar la documentación oficial pulsando sobre:</p>
<ul>
<li>Panel</li>
<li>Panel4D</li>
<li>PanelND</li>
</ul>
<p>Y de momento es suficiente por hoy.  En breve dejaremos una segunda parte... ¡¡Estad atentos!!</p>
        </div>

        <div class="meta">
            <div class="tags">
                    <a href="http://pybonacci.github.io/tag/big-data.html" class="tag">big data</a>
                    <a href="http://pybonacci.github.io/tag/bigdata.html" class="tag">bigdata</a>
                    <a href="http://pybonacci.github.io/tag/datos.html" class="tag">datos</a>
                    <a href="http://pybonacci.github.io/tag/excel.html" class="tag">excel</a>
                    <a href="http://pybonacci.github.io/tag/hdf5.html" class="tag">hdf5</a>
                    <a href="http://pybonacci.github.io/tag/pandas.html" class="tag">pandas</a>
                    <a href="http://pybonacci.github.io/tag/python-3.html" class="tag">python 3</a>
                    <a href="http://pybonacci.github.io/tag/sql.html" class="tag">sql</a>
                    <a href="http://pybonacci.github.io/tag/tutorial-de-pandas.html" class="tag">Tutorial de pandas</a>
            </div>
        </div>

  
<hr>    
<div class="row">
  <div class="col-md-2">
    <img src=https://bbvaopen4u.com/sites/default/files/img/new/bbva-open4u-kiko-correoso.jpg alt="photo" class="img-author img-rounded"/>
  </div>
  <div class="col-md-1"></div>
  <div class="col-md-9 description-author">
    <p>Kiko es doctor en ciencias físicas y esta especializado en física de la atmósfera, meteorología y climatología. Además de estar en las nubes es especialista en temas de energías renovables en Iberdrola. Ávido de seguir mejorando siempre está abierto a participar en nuevos proyectos y retos por lo que no dudes en contactarle si necesitas servicios especializados de Python o meteorología.
</p>
  </div>
</div> 

    </article>
<script data-isso="//https://comments.pybonacci.org"
        data-isso-lang="es"
        src="//https://comments.pybonacci.org/js/embed.min.js"></script>
<section id="isso-thread">
<h3>Comentarios</h3>
</section>

</div>

<style type="text/css">
{
    max-width: 700px;
}

.text_cell .prompt {
    display: none;
}

div.cell {
    padding: 0;
}

div.text_cell_render {
    padding: 0;
}

div.prompt {
    font-size: 13px;
}

div.input_prompt {
    padding: .7em 0.2em;
}

div.output_prompt {
    padding: .4em .2em;
}

div.input_area {
    margin: .2em 0.4em;
    max-width: 580px;
}

table.dataframe {
    font-family: Arial, sans-serif;
    font-size: 13px;
    line-height: 20px;
}

table.dataframe th, td {
    padding: 4px;
    text-align: left;
}

pre code {
    background-color: inherit;
}</style>

        </div>

        <footer class="disclaimer">
          <div class="container-fluid">
            <p>
              © 2012-2017 Pybonacci, licencia <a href="https://github.com/Pybonacci/pybonacci.github.io/blob/sources/LICENSE.md"> CC BY-SA 4.0 + MIT</a>
              salvo otra indicación.
              <p>Contenido generado con <a href= "http://docs.getpelican.com/">Pelican</a>.</p>
            </p>
          </div>
        </footer>

    </body>
</html>